<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LCK Experience Digital - Acceso a Conferencias</title>

    <!-- Content Security Policy for Firebase and Stripe -->

    <!-- SEO Meta Tags -->
    <meta name="description" content="Accede a las conferencias de LCK Experience Digital. Contenido exclusivo para transformar tu vida personal y profesional.">
    <meta name="keywords" content="LCK Experience, conferencias, desarrollo personal, transformación, crecimiento">
    <meta name="author" content="LCK Experience">

    <!-- Open Graph -->
    <meta property="og:title" content="LCK Experience Digital - Conferencias">
    <meta property="og:description" content="Accede a contenido exclusivo de LCK Experience">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://digital.lckexperience.com.mx">

    <!-- Styles -->
    <link rel="stylesheet" href="css/styles.css">

    <!-- Font Awesome for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <!-- Header -->
    <header>
        <div class="container">
            <div class="nav-container">
                <a href="/" class="logo">LCK Experience Digital</a>
                <div id="userInfo" class="d-none">
                    <span id="userEmail"></span>
                    <button class="btn btn-sm" onclick="signOut()">Cerrar Sesión</button>
                </div>
            </div>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="hero">
        <div class="container">
            <div class="hero-content">
                <h1>Accede a las Conferencias de LCK Experience</h1>
                <p class="subtitle">
                    Contenido exclusivo del evento que está transformando vidas
                </p>

                <!-- Value Proposition -->
                <div class="value-props">
                    <div class="value-item">
                        <i class="fas fa-video value-icon"></i>
                        <span>Conferencias completas</span>
                    </div>
                    <div class="value-item">
                        <i class="fas fa-infinity value-icon"></i>
                        <span>Acceso ilimitado</span>
                    </div>
                    <div class="value-item">
                        <i class="fas fa-mobile value-icon"></i>
                        <span>Desde cualquier dispositivo</span>
                    </div>
                </div>

                <!-- Auth Check Section -->
                <div id="authSection">
                    <!-- For non-authenticated users -->
                    <div id="nonAuthContent" class="action-cards">
                        <div class="card" style="max-width: 500px; margin: 0 auto;">
                            <div class="card-icon">
                                <i class="fas fa-user-circle"></i>
                            </div>
                            <h3>Comienza Aquí</h3>
                            <p class="text-muted">Crea tu cuenta o inicia sesión para acceder al contenido</p>

                            <button class="btn btn-primary" onclick="showAuthModal('register')" style="margin: 10px;">
                                Crear Cuenta
                            </button>
                            <button class="btn btn-secondary" onclick="showAuthModal('login')" style="margin: 10px;">
                                Ya Tengo Cuenta
                            </button>
                        </div>
                    </div>

                    <!-- For authenticated users without access -->
                    <div id="authNoAccessContent" class="action-cards d-none">
                        <div class="card">
                            <div class="card-icon">
                                <i class="fas fa-credit-card"></i>
                            </div>
                            <h3>Comprar Acceso</h3>
                            <p class="text-muted">Obtén acceso completo a todas las conferencias</p>
                            <div class="price-display">
                                <p style="font-size: 28px; font-weight: 700; color: var(--primary-black); margin: 10px 0;">$500 MXN</p>
                            </div>
                            <button class="btn btn-primary" onclick="proceedToPayment()">
                                Comprar Ahora
                            </button>
                        </div>

                        <div class="card">
                            <div class="card-icon">
                                <i class="fas fa-ticket"></i>
                            </div>
                            <h3>Tengo un Cupón</h3>
                            <p class="text-muted">Ingresa tu código de cupón para acceder</p>
                            <div style="margin: 20px 0;">
                                <p style="font-size: 14px; color: var(--gray-medium);">¿Recibiste un código especial?</p>
                            </div>
                            <button class="btn btn-secondary" onclick="showCouponModal()">
                                Usar Cupón
                            </button>
                        </div>
                    </div>

                    <!-- For authenticated users with access -->
                    <div id="authWithAccessContent" class="d-none" style="text-align: center;">
                        <div class="card" style="max-width: 500px; margin: 0 auto;">
                            <div class="card-icon">
                                <i class="fas fa-check-circle" style="color: var(--success);"></i>
                            </div>
                            <h3>¡Ya Tienes Acceso!</h3>
                            <p class="text-muted">Disfruta de todas las conferencias de LCK Experience</p>
                            <button class="btn btn-gold" onclick="goToConferences()">
                                <i class="fas fa-play"></i> Ver Conferencias
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Features Section -->
    <section class="features section-padding">
        <div class="container">
            <h2 class="text-center">¿Qué incluye tu acceso?</h2>
            <div class="feature-grid">
                <div class="feature-item">
                    <div class="feature-icon">
                        <i class="fas fa-play-circle"></i>
                    </div>
                    <h3>Conferencias Completas</h3>
                    <p>Todas las ponencias del evento LCK Experience</p>
                </div>
                <div class="feature-item">
                    <div class="feature-icon">
                        <i class="fas fa-clock"></i>
                    </div>
                    <h3>Ve a tu Ritmo</h3>
                    <p>Pausa, repite y aprende cuando quieras</p>
                </div>
                <div class="feature-item">
                    <div class="feature-icon">
                        <i class="fas fa-users"></i>
                    </div>
                    <h3>Comunidad LCK</h3>
                    <p>Únete a miles de personas transformando sus vidas</p>
                </div>
                <div class="feature-item">
                    <div class="feature-icon">
                        <i class="fas fa-certificate"></i>
                    </div>
                    <h3>Contenido de Calidad</h3>
                    <p>Speakers internacionales y contenido verificado</p>
                </div>
            </div>
        </div>
    </section>

    <!-- FAQ Section -->
    <section class="faq section-padding bg-light">
        <div class="container">
            <h2 class="text-center">Preguntas Frecuentes</h2>
            <div style="max-width: 800px; margin: 0 auto; margin-top: 40px;">
                <div class="faq-item">
                    <div class="faq-question" onclick="toggleFaq(this)">
                        <span>¿Cómo funciona el acceso?</span>
                        <i class="fas fa-chevron-down"></i>
                    </div>
                    <div class="faq-answer">
                        Primero creas tu cuenta gratuita, luego puedes comprar acceso o usar un cupón.
                        Una vez activado, puedes ver las conferencias todas las veces que quieras.
                    </div>
                </div>
                <div class="faq-item">
                    <div class="faq-question" onclick="toggleFaq(this)">
                        <span>¿Por cuánto tiempo tengo acceso?</span>
                        <i class="fas fa-chevron-down"></i>
                    </div>
                    <div class="faq-answer">
                        Tu acceso es ilimitado. Una vez que obtienes acceso, puedes ver las conferencias
                        todas las veces que quieras.
                    </div>
                </div>
                <div class="faq-item">
                    <div class="faq-question" onclick="toggleFaq(this)">
                        <span>¿Necesito crear una cuenta?</span>
                        <i class="fas fa-chevron-down"></i>
                    </div>
                    <div class="faq-answer">
                        Sí, necesitas crear una cuenta gratuita para poder acceder al contenido.
                        Esto nos permite guardar tu progreso y garantizar tu acceso desde cualquier dispositivo.
                    </div>
                </div>
                <div class="faq-item">
                    <div class="faq-question" onclick="toggleFaq(this)">
                        <span>¿Qué métodos de pago aceptan?</span>
                        <i class="fas fa-chevron-down"></i>
                    </div>
                    <div class="faq-answer">
                        Aceptamos todas las tarjetas de crédito y débito principales a través de
                        nuestra plataforma segura de pagos Stripe.
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="container">
            <p>&copy; 2025 LCK Experience. Todos los derechos reservados.</p>
            <p class="mb-0">Transformando vidas, un evento a la vez.</p>
        </div>
    </footer>

    <!-- Auth Modal (Login/Register) -->
    <div id="authModal" class="modal">
        <div class="modal-content">
            <button class="modal-close" onclick="closeModal('authModal')">&times;</button>

            <!-- Tab Headers -->
            <div class="auth-tabs" style="display: flex; margin-bottom: 20px; border-bottom: 2px solid var(--gray-light);">
                <button id="loginTab" class="auth-tab active" onclick="switchAuthTab('login')"
                        style="flex: 1; padding: 10px; background: none; border: none; cursor: pointer; font-weight: 600;">
                    Iniciar Sesión
                </button>
                <button id="registerTab" class="auth-tab" onclick="switchAuthTab('register')"
                        style="flex: 1; padding: 10px; background: none; border: none; cursor: pointer; font-weight: 600;">
                    Crear Cuenta
                </button>
            </div>

            <!-- Login Form -->
            <div id="loginForm" class="auth-form">
                <form onsubmit="handleLogin(event)">
                    <div class="form-group">
                        <label for="loginEmail">Correo Electrónico</label>
                        <input type="email" id="loginEmail" required placeholder="tu@email.com">
                    </div>
                    <div class="form-group">
                        <label for="loginPassword">Contraseña</label>
                        <input type="password" id="loginPassword" required placeholder="Tu contraseña">
                    </div>
                    <p style="margin: 10px 0; font-size: 14px;">
                        <a href="#" onclick="handleForgotPassword(event)" style="color: var(--accent-gold); text-decoration: none;">
                            ¿Olvidaste tu contraseña?
                        </a>
                    </p>
                    <div id="loginError" class="alert alert-error d-none">
                        <i class="fas fa-exclamation-circle"></i>
                        <span id="loginErrorText"></span>
                    </div>
                    <button type="submit" class="btn btn-primary" style="width: 100%;">
                        <span id="loginBtnText">Iniciar Sesión</span>
                        <span id="loginLoader" class="loading d-none"></span>
                    </button>
                </form>

                <div style="text-align: center; margin: 20px 0;">
                    <p style="color: var(--gray-medium); margin: 10px 0;">— o —</p>
                    <button type="button" class="btn btn-secondary" onclick="signInWithGoogle()" style="width: 100%;">
                        <i class="fab fa-google"></i> Continuar con Google
                    </button>
                </div>
            </div>

            <!-- Register Form -->
            <div id="registerForm" class="auth-form d-none">
                <form onsubmit="handleRegister(event)">
                    <div class="form-group">
                        <label for="registerName">Nombre Completo</label>
                        <input type="text" id="registerName" required placeholder="Juan Pérez">
                    </div>
                    <div class="form-group">
                        <label for="registerEmail">Correo Electrónico</label>
                        <input type="email" id="registerEmail" required placeholder="tu@email.com">
                    </div>
                    <div class="form-group">
                        <label for="registerPassword">Contraseña</label>
                        <input type="password" id="registerPassword" required placeholder="Mínimo 6 caracteres">
                        <small style="color: var(--gray-medium);">La contraseña debe tener al menos 6 caracteres</small>
                    </div>
                    <div id="registerError" class="alert alert-error d-none">
                        <i class="fas fa-exclamation-circle"></i>
                        <span id="registerErrorText"></span>
                    </div>
                    <button type="submit" class="btn btn-primary" style="width: 100%;">
                        <span id="registerBtnText">Crear Cuenta</span>
                        <span id="registerLoader" class="loading d-none"></span>
                    </button>
                </form>

                <div style="text-align: center; margin: 20px 0;">
                    <p style="color: var(--gray-medium); margin: 10px 0;">— o —</p>
                    <button type="button" class="btn btn-secondary" onclick="signInWithGoogle()" style="width: 100%;">
                        <i class="fab fa-google"></i> Continuar con Google
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Coupon Modal (for authenticated users) -->
    <div id="couponModal" class="modal">
        <div class="modal-content">
            <button class="modal-close" onclick="closeModal('couponModal')">&times;</button>
            <h2>Usar Código de Cupón</h2>
            <p class="text-muted">Ingresa tu código especial para obtener acceso</p>

            <form onsubmit="handleCoupon(event)">
                <div class="form-group">
                    <label for="couponCode">Código de Cupón</label>
                    <input type="text" id="couponCode" required
                           placeholder="Ej: LCK2025" style="text-transform: uppercase;">
                </div>

                <div id="couponError" class="alert alert-error d-none">
                    <i class="fas fa-exclamation-circle"></i>
                    <span id="couponErrorText"></span>
                </div>

                <div id="couponSuccess" class="alert alert-success d-none">
                    <i class="fas fa-check-circle"></i>
                    <span id="couponSuccessText"></span>
                </div>

                <button type="submit" class="btn btn-gold" style="width: 100%;">
                    <span id="couponBtnText">Validar Cupón</span>
                    <span id="couponLoader" class="loading d-none"></span>
                </button>
            </form>
        </div>
    </div>

    <!-- Scripts -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-database-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
    <script src="https://js.stripe.com/v3/"></script>
    <script src="js/firebase-config.js"></script>
    <script src="js/auth-persistent.js"></script>
    <script src="js/stripe-integration.js"></script>
    <script src="js/auth-flow-v2.js"></script>

    <script>
        // Define Stripe payment link
        const STRIPE_PAYMENT_LINK = 'https://buy.stripe.com/bJeaEY82neOU30Pd1Kg3602';

        // FAQ Toggle
        function toggleFaq(element) {
            const parent = element.parentElement;
            parent.classList.toggle('active');
            const icon = element.querySelector('i');
            icon.classList.toggle('fa-chevron-down');
            icon.classList.toggle('fa-chevron-up');
        }
    </script>
</body>
</html>